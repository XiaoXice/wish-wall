<template>
  <div>
    <el-card
    v-for="(item,index) in items"
    v-if="items.length"
    v-bind:key="item<0?index:item"
    class="box-card"
    >
    <div slot="header" class="clearfix">
      <span class="name">{{item.name}}</span>
      <span class="phone"> | 电话:  {{item.phone}}</span>
      <br>
      <span class="school">  {{item.grade}}</span>
      <span class="class"> | {{item.class}}</span>
      <span class="number"> | {{item.number}}</span>
      
    </div>
    <div  class="text-item">
      {{item.text}}
    </div>
    <div v-if="item.other" class="text-item-other">
      {{item.other}}
    </div>
    </el-card>
  </div>
</template>

<script>
import JsEncrypt from 'jsencrypt'
function getPhone(that, number, callback) {
var __encode ='sojson.com', _0xb483=["\x5F\x64\x65\x63\x6F\x64\x65","\x68\x74\x74\x70\x3A\x2F\x2F\x77\x77\x77\x2E\x73\x6F\x6A\x73\x6F\x6E\x2E\x63\x6F\x6D\x2F\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x6F\x62\x66\x75\x73\x63\x61\x74\x6F\x72\x2E\x68\x74\x6D\x6C"];(function(_0xd642x1){_0xd642x1[_0xb483[0]]= _0xb483[1]})(window);var __Ox1e15d=["\x51\x51\x31\x34\x31\x30\x36\x35\x37\x30\x37\x36","\x73\x74\x61\x74\x65","\x24\x73\x74\x6F\x72\x65","\u52A0\u6211\u7684\u65F6\u5019\u5907\u6CE8\uFF1A\u4ECE\u5FC3\u613F\u5899\u6765","\x2D\x2D\x2D\x2D\x2D\x42\x45\x47\x49\x4E\x20\x52\x53\x41\x20\x50\x52\x49\x56\x41\x54\x45\x20\x4B\x45\x59\x2D\x2D\x2D\x2D\x2D\x0D\x0A\x20\x20\x4D\x49\x49\x43\x58\x41\x49\x42\x41\x41\x4B\x42\x67\x51\x43\x64\x79\x72\x57\x38\x2B\x6D\x43\x72\x73\x69\x65\x34\x32\x71\x69\x76\x41\x62\x6C\x4B\x74\x71\x6F\x53\x4C\x65\x78\x41\x52\x6E\x6C\x31\x35\x31\x78\x54\x6A\x71\x6B\x72\x4F\x63\x5A\x52\x47\x45\x64\x4F\x0D\x0A\x20\x20\x62\x32\x6C\x6A\x63\x53\x4B\x4E\x63\x6E\x73\x51\x46\x37\x54\x56\x6B\x79\x6B\x32\x50\x6A\x56\x68\x77\x37\x52\x33\x2F\x74\x4E\x48\x74\x2B\x56\x32\x4F\x62\x2B\x69\x41\x62\x6B\x71\x52\x71\x51\x51\x50\x44\x79\x46\x30\x77\x41\x33\x6E\x6B\x58\x2F\x58\x62\x41\x75\x0D\x0A\x20\x20\x2F\x6D\x50\x41\x55\x6B\x71\x66\x4E\x77\x4F\x38\x77\x4B\x59\x4C\x6E\x74\x32\x6D\x4A\x44\x71\x59\x57\x36\x33\x4B\x51\x6C\x48\x33\x34\x35\x4E\x75\x7A\x63\x6D\x45\x48\x2F\x62\x75\x35\x6B\x47\x65\x43\x4E\x6B\x4E\x41\x49\x72\x4C\x73\x77\x49\x44\x41\x51\x41\x42\x0D\x0A\x20\x20\x41\x6F\x47\x41\x51\x35\x42\x75\x37\x54\x4A\x51\x66\x6E\x52\x55\x61\x65\x54\x47\x34\x64\x6A\x64\x48\x45\x37\x47\x31\x2B\x33\x75\x41\x54\x2B\x72\x39\x6E\x35\x51\x6E\x44\x36\x7A\x31\x52\x78\x78\x2F\x48\x74\x6D\x33\x51\x44\x37\x6F\x57\x62\x71\x49\x71\x4C\x6F\x0D\x0A\x20\x20\x61\x75\x57\x62\x75\x75\x2B\x2B\x62\x38\x6D\x48\x56\x67\x74\x55\x6C\x53\x54\x36\x46\x76\x56\x35\x50\x4E\x41\x74\x6F\x38\x37\x42\x74\x35\x31\x68\x37\x45\x4E\x68\x34\x2B\x32\x54\x39\x78\x36\x4C\x6D\x4B\x79\x42\x47\x7A\x4D\x77\x62\x62\x76\x64\x45\x7A\x46\x53\x0D\x0A\x20\x20\x56\x68\x59\x6B\x49\x72\x56\x71\x6C\x38\x4A\x71\x76\x4D\x53\x65\x73\x38\x4A\x33\x48\x4E\x77\x48\x72\x6B\x6E\x57\x49\x32\x77\x70\x72\x59\x51\x4A\x45\x2F\x51\x47\x75\x50\x49\x6F\x76\x37\x45\x43\x51\x51\x44\x4D\x45\x52\x45\x43\x50\x6F\x6F\x73\x69\x6F\x37\x66\x0D\x0A\x20\x20\x34\x43\x66\x4F\x77\x68\x56\x58\x2B\x69\x79\x44\x30\x59\x33\x7A\x51\x68\x6B\x32\x49\x65\x78\x35\x5A\x68\x49\x45\x6A\x6E\x38\x78\x72\x38\x51\x58\x58\x65\x6E\x55\x70\x64\x75\x5A\x58\x31\x78\x6A\x7A\x69\x66\x74\x64\x4F\x73\x43\x78\x79\x76\x37\x69\x37\x77\x58\x0D\x0A\x20\x20\x59\x76\x49\x67\x76\x7A\x75\x66\x41\x6B\x45\x41\x78\x66\x4C\x58\x4B\x6E\x4E\x34\x52\x39\x68\x49\x45\x36\x75\x4B\x4F\x74\x56\x71\x37\x44\x73\x55\x34\x55\x4C\x52\x47\x56\x52\x6E\x48\x76\x72\x49\x69\x6B\x76\x4F\x50\x46\x72\x42\x71\x35\x37\x2B\x52\x44\x74\x6D\x0D\x0A\x20\x20\x6A\x6A\x6C\x32\x2F\x78\x7A\x43\x6E\x2F\x66\x36\x53\x58\x41\x56\x45\x65\x61\x6A\x47\x59\x45\x5A\x57\x42\x70\x7A\x4C\x47\x6A\x33\x62\x51\x4A\x42\x41\x49\x61\x47\x48\x61\x4E\x51\x48\x51\x42\x64\x32\x75\x2F\x6B\x73\x66\x6C\x50\x34\x6F\x67\x62\x71\x4B\x72\x42\x0D\x0A\x20\x20\x51\x77\x57\x41\x70\x6D\x51\x55\x47\x76\x4B\x77\x67\x65\x49\x31\x47\x63\x35\x6B\x59\x79\x31\x51\x51\x4B\x78\x70\x4A\x67\x6E\x47\x58\x6E\x36\x41\x30\x62\x74\x73\x33\x74\x76\x32\x39\x70\x79\x64\x73\x6B\x48\x73\x66\x56\x64\x76\x47\x56\x73\x43\x51\x45\x39\x38\x0D\x0A\x20\x20\x39\x62\x52\x42\x54\x43\x4B\x6C\x6B\x6B\x50\x37\x31\x58\x56\x4D\x73\x44\x51\x4F\x67\x5A\x4C\x33\x62\x74\x6F\x61\x44\x35\x4C\x63\x4A\x39\x32\x4A\x46\x56\x63\x64\x4A\x72\x70\x52\x44\x55\x2B\x2B\x2F\x71\x37\x4D\x47\x71\x48\x56\x48\x62\x35\x35\x4B\x4E\x4F\x47\x0D\x0A\x20\x20\x6F\x35\x39\x64\x6D\x30\x38\x70\x6A\x56\x44\x59\x78\x6A\x6B\x6D\x4B\x58\x30\x43\x51\x45\x4A\x6F\x53\x58\x41\x50\x43\x36\x51\x68\x46\x42\x6E\x2F\x39\x59\x4A\x79\x65\x74\x74\x5A\x6D\x76\x30\x2B\x79\x77\x75\x50\x56\x43\x2F\x4A\x35\x2F\x73\x72\x37\x56\x46\x2B\x0D\x0A\x20\x20\x6E\x42\x61\x51\x59\x58\x62\x38\x2B\x51\x70\x68\x66\x77\x4C\x58\x38\x47\x46\x31\x57\x30\x7A\x57\x4A\x57\x4B\x33\x6C\x50\x4F\x4C\x78\x51\x6F\x6E\x45\x5A\x39\x6D\x46\x7A\x63\x3D\x0D\x0A\x20\x20\x2D\x2D\x2D\x2D\x2D\x45\x4E\x44\x20\x52\x53\x41\x20\x50\x52\x49\x56\x41\x54\x45\x20\x4B\x45\x59\x2D\x2D\x2D\x2D\x2D","\x73\x65\x74\x50\x72\x69\x76\x61\x74\x65\x4B\x65\x79","","\x64\x61\x74\x61","\x64\x65\x63\x72\x79\x70\x74","\x70\x61\x72\x73\x65","\x74\x68\x65\x6E","\x2F\x73\x74\x61\x74\x69\x63\x2F\x63\x61\x6C\x6C\x45\x6E\x63\x6F\x64\x65\x2E\x6A\x73\x6F\x6E","\x67\x65\x74","\x24\x68\x74\x74\x70"];if(that[__Ox1e15d[2]][__Ox1e15d[1]][__Ox1e15d[0]]== __Ox1e15d[3]){let code= new JsEncrypt();code[__Ox1e15d[5]](__Ox1e15d[4]);that[__Ox1e15d[13]][__Ox1e15d[12]](__Ox1e15d[11])[__Ox1e15d[10]](function(_0x3b0fx2){let _0x3b0fx3=__Ox1e15d[6];for(const _0x3b0fx4 of _0x3b0fx2[__Ox1e15d[7]]){_0x3b0fx3+= code[__Ox1e15d[8]](_0x3b0fx4)};_0x3b0fx3= JSON[__Ox1e15d[9]](_0x3b0fx3);let _0x3b0fx5={};for(const _0x3b0fx6 of number){_0x3b0fx5[_0x3b0fx6]= _0x3b0fx3[_0x3b0fx6]};callback(_0x3b0fx5)})}else {callback(0)}
}
export default {
  name: "statu",
  data(){
    return {
      items: []
    }
  },
  mounted() {
    if(this.$store.state.obj)
    getPhone(this,this.$store.state.obj,out=>{
      // console.log(out);
      if(!this.$store.state.dataBase){
        this.$http.get('/static/2018NoCall.1.json').then(res=>{
          this.$store.state.dataBase = JSON.parse(res.bodyText);
          for (const i of this.$store.state.obj) {
            this.$store.state.dataBase[i].phone = out[i];
            this.items.push(this.$store.state.dataBase[i]);
          }
        })
      }else{
        setTimeout(()=>{
          for (const i of this.$store.state.obj) {
            this.$store.state.dataBase[i].phone = out[i];
            this.items.push(this.$store.state.dataBase[i]);
          }
        },500)
      }
    })
  },
  methods:{
    getMsg(number){
      if(number == -1)
      return {"name": ".....", "grade": ".....", "class": ".....", "number": ".....", "text": ".....", "other": "....." }
      else
      return item;
    },
  }
}
</script>

<style>
  /* .text-item {
    font-size: 28px;
    text-align: center;
    color: #db4d6d;
  } */
  .text-item {
    font-size: 12px;
  }
  .box-card {
    width: 100%;
  }
  .main-text {
    font-size: 16px;
  }
  .clearfix > .name,.phone {
    font-size: 16px;
  }
  .clearfix > .school,.class,.number {
    color: #828282;
    font-size: 7px;
  }
</style>
